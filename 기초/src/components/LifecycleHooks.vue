<template>
	<div class="container py-4">
		<input ref="inputRef" type="text" value="hello vue3!" />
		<hr />
		<button @click="visible = !visible">Toggle Child</button>
		<LifecycleChild v-if="visible"></LifecycleChild>
		<!-- ë°˜ì‘í˜•ìƒíƒœì˜ ë³€ê²½ìœ¼ë¡œ ì¸í•´ devtoolsì—ì„œì˜ ë³€ê²½ì„ DOMì— ì ìš©ì‹œì¼œì•¼ í•  ë•Œ í˜¸ì¶œë˜ëŠ” hooks: onBeforeUpdate,onUpdated -->
		<p id="message">{{ message }}</p>
	</div>
</template>

<script>
import { onBeforeMount, onBeforeUpdate, onMounted, onUpdated, ref } from 'vue';
import LifecycleChild from '@/components/LifecycleChild.vue';
export default {
	components: {
		LifecycleChild,
	},
	setup() {
		console.log('setup');
		const inputRef = ref(null);
		const message = ref('');
		const visible = ref(false);
		// ğŸ³vue3: composition APIì—ì„œ onBeforeMountì™€ onMounted ì‚¬ìš© ì‹œ
		// // componentê°€ DOMì— ì¶”ê°€ ë˜ê¸° ì§ì „ì´ê¸° ë•Œë¬¸ì— DOMì— ì ‘ê·¼ ë¶ˆê°€ëŠ¥.
		// onBeforeMount(() => {
		// 	console.log('onBeforeMount', inputRef.value);
		// });
		// // componentê°€ DOMì— ì¶”ê°€ê°€ ë˜ì—ˆê¸° ë•Œë¬¸ì— DOMì— ì ‘ê·¼ ê°€ëŠ¥.
		// onMounted(() => {
		// 	console.log('onMounted', inputRef.value.value);
		// });

		// ğŸ³vue3: composition APIì—ì„œ onBeforeUpdateì™€ onUpdated ì‚¬ìš© ì‹œ
		// // DOM update ì´ì „ì´ê¸° ë•Œë¬¸ì— ë°˜ì‘í˜• ë°ì´í„°ëŠ” ë³€ê²½ì´ ë˜ì§€ë§Œ, DOM contentë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŒ.
		// onBeforeUpdate(() => {
		// 	console.log('onBeforeUpdate', message.value);
		// 	console.log(
		// 		'DOM Content: ',
		// 		document.querySelector('#message').textContent,
		// 	);
		// });
		// // DOM update ì´í›„ì´ê¸° ë•Œë¬¸ì— DOM contentë¥¼ ë¶ˆëŸ¬ì˜´.
		// // cf. ë””ë²„ê¹… ì‹œ ì¬ ë Œë”ë§ ì‹œì ì„ ì•Œê³  ì‹¶ì„ ë–„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
		// onUpdated(() => {
		// 	console.log('onUpdated', message.value);
		// 	console.log(
		// 		'DOM Content: ',
		// 		document.querySelector('#message').textContent,
		// 	);
		// });

		// ğŸ³vue3: composition APIì—ì„œ onBeforeUpdateì™€ onUpdated ì‚¬ìš© ì‹œ

		return { inputRef, message, visible };
	},
	// ğŸ³vue3ì—ì„œ beforCreateì™€ createdëŠ” setupí•¨ìˆ˜ì—ì„œ ì„ ì–¸í•˜ê³  ì²˜ë¦¬í•˜ë©´ ë¨.
	// // vue2: ë°˜ì‘í˜• ë°ì´í„° ì„ ì–¸ ì‹œ data ì˜µì…˜ìœ¼ë¡œ ì„ ì–¸í–ˆìŒ.
	// data: () => ({
	// 	dataMessage: 'date message',
	// }),
	// // componentê°€ ì´ˆê¸°í™” ë  ë•Œ ì‹¤í–‰ë˜ëŠ” í›…
	// beforeCreate() {
	// 	console.log('beforeCreate');
	// 	// component instanceì—ëŠ” ì ‘ê·¼ ê°€ëŠ¥.
	// 	console.log(this);
	// 	// but, beforeCreateì—ì„œëŠ” ì•„ì§ dataMessage ì˜µì…˜ì´ ì²˜ë¦¬ë˜ê¸° ì „ì´ê¸° ë•Œë¬¸ì— ì½ì–´ì˜¬ ìˆ˜ ì—†ìŒ.
	// 	console.log(this.dataMessage);
	// },
	// created() {
	// 	console.log('secreatedtup');
	// 	// Createì—ì„œëŠ” dataMessage ì˜µì…˜ì´ ì²˜ë¦¬ëœ í›„ì´ê¸° ë•Œë¬¸ì— ì½ì–´ì˜¬ ìˆ˜ ìˆìŒ.
	// 	console.log(this.dataMessage);
	// },
};
</script>

<style lang="scss" scoped></style>
